---
title: "Oferta ze zlecenia"
---

<Frame>
  <img
    src="/images/Oferty-ze-zlecenia.png"
    alt="Zrzut ekranu z interfejsu: Oferta ze zlecenia"
    style={{ borderRadius:"0.5rem" }}
  />
</Frame>

<AccordionGroup>
  <Accordion title="Ograniczenia interfejsu" icon="circle-exclamation">
    Na tej stronie interfejsu używane są przyciski aktywujące skrypty (skrypt generowania oferty). Niestety, takie przyciski mogą być umieszczone jedynie na stronie typu **"blank"**, która ma kilka ograniczeń:

    - Strony typu _blank_ nie mogą być wyświetlane w aplikacji mobilnej Airtable.
    - Nie można stosować przycisków pozwalających na precyzyjną customizację filtrowania / sortowania / grupowania.

    Z uwagi na te ograniczenia:

    - Możliwe do wyboru filtry są **predefiniowane**.
    - Samo okno wyboru jest **zawsze widoczne** na interfejsie.
  </Accordion>
</AccordionGroup>

---

## Pole wyboru filtrów

<Frame>
  <img
    src="/images/Oferty-ze-zlecenia-filtry — kopia.png"
    alt="Zrzut ekranu z interfejsu: Oferta ze zlecenia, filtry"
    style={{ borderRadius:"0.5rem" }}
  />
</Frame>

Filtry wybrane w tym polu warunkują, jakie rekordy będą widoczne na [liście wyboru rekordów](#lista-wyboru-rekordow).\
Domyślnie ustawione filtrowanie wyszukuje rekordy **zleceń serwisowych**, których stan jest\
**"PO"** lub **"ZAKOŃCZONE"**.

<AccordionGroup>
  <Accordion title="Wyszukiwanie filtrami" icon="magnifying-glass">
    Wybrane filtry dają wiele możliwości wyszukiwania rekordów. Nie wszystkie opcje wyszukiwania są oczywiste.

    **Przykłady:**

    - Używając dwóch warunków "Data", możemy zrobić sobie _widełki czasowe_:\
      ustaw `Data is after` (początek) oraz `Data is before` (koniec).
    - Znając formatowanie nazw klientów, możemy wyszukiwać szpitale po mieście:\
      wybierz `Szpital/Klient contains` (nazwa miasta).\
      Np. wpisując _Poznań_, zobaczymy rekordy z Wrzoska, Przybyszewskiego, Grunwaldzkiej itd.
  </Accordion>
</AccordionGroup>

---

## Lista wyboru rekordów

<Frame>
  <img
    src="/images/Oferty-ze-zlecenia-lista.png"
    alt="Zrzut ekranu z interfejsu: Oferta ze zlecenia"
    style={{ borderRadius:"0.5rem" }}
  />
</Frame>

### Rekordy na liście

Tutaj widoczne są rekordy z arkusza **"Zlecenia serwisowe"**, odfiltrowane według [wybranych filtrów](#pole-wyboru-filtrow).\
Każda zmiana w tym widoku edytuje rekord **bezpośrednio w bazie** i jest widoczna we wszystkich powiązanych listach.

---

### Wybieranie rekordów

<Frame>
  <img
    loop={true}
    src="/images/Oferty-ze-zlecenia-wybr.gif"
    alt="Nagranie - Wybór zleceń"
    style={{ borderRadius:"0.5rem" }}
  />
</Frame>

Rekordy, z których chcemy wygenerować oferty, wybieramy zaznaczając po lewej stronie przycisk **"Generuj..."**.\
Przycisk ten nie „zaznacza” rekordu w klasycznym sensie — zamiast tego **`ustawia wartość pola Generuj ofertę na TAK`**.\
W następnym kroku automatyzacja wyszukuje wszystkie rekordy z tym polem ustawionym na „TAK” i generuje z nich oferty.

---

### Licznik i przyciski nad listą

Nad listą, po lewej stronie filtrów, widzimy **licznik** oraz **trzy przyciski**:

- Licznik zlicza rekordy z danym statusem **w całej bazie** (nie tylko te aktualnie widoczne).\
  Funkcja ta zapobiega sytuacji, w której powstałaby oferta z nieprawidłowego rekordu.
- Jeśli zaznaczonych jest zbyt wiele rekordów, można użyć przycisku **„Odznacz wszystkie”**,\
  który uruchamia automatyzację usuwającą zaznaczenia (ustawia `Generuj ofertę` na `NIE`).

---

## Generowanie oferty

Po wciśnięciu przycisku **„Generuj ofertę”**, uruchamia się automatyzacja tworząca oferty na podstawie zaznaczonych rekordów.\
Dla każdego wybranego rekordu powstaje **jedna oferta**.

<Note>
  Limit: funkcja Airtable „repeat for” umożliwia maksymalnie **1000 akcji**, więc można wybrać do **1000 rekordów**.
</Note>

---

### Ustawienia w wygenerowanej ofercie

Oferta powstała ze zlecenia automatycznie wypełnia część pól:

- **Data wystawienia** → aktualna data
- **Czas realizacji** → „Do uzgodniania”
- Jeśli **typ zlecenia** to „Po przeglądzie” → pole _Numer zgłoszenia klienta_ = „Po przeglądzie”
- **Numer sprawy** = numer zlecenia
- Pola: _Nr. Zgłoszenia Klienta_, _SN_, _INW_, _Nazwa_, _Model_, _Producent_, _Szpital_, _Płatnik_, _Oddział_, _Magazyn przepływy_ → pobierane z rekordu
- **Typ** → „Serwis”
- **Uwagi wew.** → Informacje mające na celu ułatwienie wypełnienia oferty, dane z pól: usterka, naprawa, szacowany koszt, rzeczywisty czas naprawy, ocena.

<img
  src="/images/Zrzutekranu2025-10-13113521.png"
  alt="Zrzut ekranu 2025-10-13 113521.png"
  title="Zrzut ekranu 2025-10-13 113521.png"
  style={{ width:"61%" }}
/>

---

### Przejście do oferty

Po zakończeniu generowania oferty:

- kliknij przycisk **„Do ofert”**,
- lub wybierz z menu bocznego: **Ofertowanie → Oferty**.

---

<CardGroup cols={1}>
  <Card title="Edycja utworzonej oferty" icon="pen-to-square" href="/Nowa%20oferta">
    
  </Card>
</CardGroup>